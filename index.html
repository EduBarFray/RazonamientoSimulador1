<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador UNACH - Examen Estudiantil</title>
    <!-- MathJax para renderizar ecuaciones -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #2c3e50, #4a6491);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .logo {
            position: absolute;
            top: 15px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo img {
            height: 125px;
            width: auto;
        }
        
        .timer-container {
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 8px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .timer {
            font-size: 1.3rem;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            color: #ffcc00;
        }
        
        h1 {
            margin: 10px 0 5px;
            font-size: 2.2rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .exam-section {
            display: flex;
            min-height: 500px;
        }
        
        .sidebar {
            width: 250px;
            background-color: #f8f9fa;
            border-right: 1px solid #e0e0e0;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .student-info {
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }
        
        .student-info h3 {
            margin-bottom: 10px;
            color: #2c3e50;
            border-bottom: 2px solid #4a6491;
            padding-bottom: 8px;
        }
        
        .info-item {
            display: flex;
            margin: 8px 0;
        }
        
        .info-label {
            font-weight: bold;
            width: 100px;
        }
        
        .section-nav {
            margin-bottom: 15px;
        }
        
        .section-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #ced4da;
        }
        
        .questions-nav {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .questions-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }
        
        .question-number {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e9ecef;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            border: 1px solid #ced4da;
            font-size: 0.8rem;
        }
        
        .question-number:hover {
            background: #ced4da;
        }
        
        .question-number.active {
            background: #4a6491;
            color: white;
            border-color: #2c3e50;
        }
        
        .question-number.answered {
            background: #28a745;
            color: white;
            border-color: #1e7e34;
        }
        
        .content {
            flex-grow: 1;
            padding: 25px;
            display: flex;
            flex-direction: column;
        }
        
        .question-container {
            flex-grow: 1;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 20px;
        }
        
        .question-title {
            font-size: 1.4rem;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .section-indicator {
            background: #4a6491;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .question-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 25px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4a6491;
        }
        
        .question-image {
            max-width: 100%;
            height: auto;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            display: block;
        }
        
        .math-equation {
            font-family: 'Times New Roman', serif;
            font-size: 1.2rem;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            text-align: center;
        }
        
        .options-container {
            display: grid;
            gap: 15px;
        }
        
        .option {
            display: flex;
            align-items: flex-start;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background: #f1f3f5;
            border-color: #ced4da;
        }
        
        .option.selected {
            background: #e7f4ff;
            border-color: #4a6491;
            box-shadow: 0 0 0 3px rgba(74, 100, 145, 0.2);
        }
        
        .option input {
            margin-right: 15px;
            margin-top: 3px;
        }
        
        .option-label {
            font-weight: bold;
            margin-right: 10px;
            min-width: 30px;
            color: #4a6491;
        }
        
        .option-text {
            flex: 1;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 30px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-prev {
            background: #6c757d;
            color: white;
        }
        
        .btn-next {
            background: #4a6491;
            color: white;
        }
        
        .btn-submit {
            background: #28a745;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #e9ecef;
            color: #adb5bd;
            cursor: not-allowed;
            transform: none;
        }
        
        .results-container {
            padding: 30px;
            text-align: center;
            display: none;
        }
        
        .results-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .results-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .score-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }
        
        .score-box {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
        }
        
        .correct-box {
            background: linear-gradient(135deg, #28a745, #1e7e34);
        }
        
        .incorrect-box {
            background: linear-gradient(135deg, #dc3545, #bd2130);
        }
        
        .score-value {
            font-size: 2.8rem;
            line-height: 1;
        }
        
        .score-label {
            font-size: 1.1rem;
            text-transform: uppercase;
        }
        
        .restart-btn {
            background: #4a6491;
            color: white;
            padding: 15px 40px;
            font-size: 1.2rem;
            margin-top: 20px;
        }
        
        .review-btn {
            background: #ffc107;
            color: #212529;
            padding: 15px 40px;
            font-size: 1.2rem;
            margin-top: 20px;
        }
        
        .progress-container {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: #4a6491;
            width: 0%;
            transition: width 0.5s;
        }
        
        .login-screen {
            padding: 40px;
            text-align: center;
        }
        
        .login-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .login-form {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            text-align: left;
            max-width: 400px;
            margin: 0 auto 30px;
            border-left: 4px solid #4a6491;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .attempts-info {
            margin-top: 15px;
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        .slogan-image {
            max-width: 100%;
            height: auto;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .welcome-screen {
            padding: 40px;
            text-align: center;
            display: none;
        }
        
        .welcome-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .welcome-text {
            font-size: 1.1rem;
            line-height: 1.7;
            max-width: 700px;
            margin: 0 auto 30px;
            color: #495057;
        }
        
        .instructions {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            text-align: left;
            max-width: 700px;
            margin: 0 auto 30px;
            border-left: 4px solid #4a6491;
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .start-btn {
            background: #28a745;
            color: white;
            font-size: 1.2rem;
            padding: 15px 50px;
            border-radius: 30px;
            margin-top: 20px;
        }
        
        .academic-screen {
            padding: 30px;
            display: none;
        }
        
        .academic-title {
            font-size: 2.2rem;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .results-table th, .results-table td {
            border: 1px solid #ddd;
            padding: 12px 15px;
            text-align: center;
        }
        
        .results-table th {
            background-color: #4a6491;
            color: white;
            font-weight: 600;
        }
        
        .results-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .results-table tr:hover {
            background-color: #e9ecef;
        }
        
        .section-score {
            font-weight: bold;
        }
        
        .review-container {
            padding: 30px;
            display: none;
        }
        
        .review-title {
            font-size: 2.2rem;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .review-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #dc3545;
        }
        
        .review-item.correct {
            border-left-color: #28a745;
        }
        
        .review-question {
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        .review-answer {
            display: flex;
            margin-bottom: 8px;
        }
        
        .review-label {
            font-weight: bold;
            width: 150px;
        }
        
        .review-value {
            flex: 1;
        }
        
        .review-value.correct {
            color: #28a745;
            font-weight: bold;
        }
        
        .review-value.incorrect {
            color: #dc3545;
        }
        
        .section-results {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .section-results h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4a6491;
        }
        
        .section-stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .stat-box {
            text-align: center;
            padding: 15px;
            min-width: 120px;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            text-transform: uppercase;
            margin-top: 5px;
        }
        
        @media (max-width: 768px) {
            .exam-section {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .questions-grid {
                grid-template-columns: repeat(8, 1fr);
            }
            
            .logo, .timer-container {
                position: static;
                justify-content: center;
                margin: 10px 0;
            }
            
            .results-table {
                display: block;
                overflow-x: auto;
            }
            
            .score-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            
            .section-stats {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="logoelite.png" alt="Logo Elite">
            </div>
            <h1>SIMULADOR DE EXAMEN</h1>
            <div class="subtitle">Evaluaci√≥n de razonamiento</div>
            <div class="timer-container">
                <div class="icon">‚è±Ô∏è</div>
                <div class="timer">90:00</div>
            </div>
        </header>
        
        <div class="login-screen" id="loginScreen">
            <img src="slogan.png" alt="Slogan Preuniversitario" class="slogan-image">
            <h2 class="login-title">Acceso al Simulador de Examen</h2>
            <div class="login-form">
                <div class="form-group">
                    <label for="username">Usuario:</label>
                    <input type="text" id="username" placeholder="Ingresa tu usuario">
                </div>
                <div class="attempts-info" id="attemptsInfo">
                    Intentos ilimitados por usuario
                </div>
                <button class="btn start-btn" id="loginBtn">
                    <span class="icon">üîë</span> Ingresar
                </button>
            </div>
        </div>
        
        <div class="welcome-screen" id="welcomeScreen">
            <h2 class="welcome-title">Bienvenido al Simulador de Examen UNACH</h2>
            <div class="welcome-text">
                <p>Este examen simulado te ayudar√° a prepararte para tus evaluaciones reales. El test consta de 66 preguntas con un tiempo l√≠mite de 90 minutos.</p>
                <p>Demuestra tus conocimientos y descubre √°reas de oportunidad para mejorar.</p>
            </div>
            
            <div class="instructions">
                <h3>Instrucciones importantes</h3>
                <ul>
                    <li><strong>Tiempo total:</strong> 90 minutos para completar el examen</li>
                    <li><strong>Navegaci√≥n:</strong> Utiliza los botones "Anterior" y "Siguiente" para moverte entre preguntas</li>
                    <li><strong>Selecci√≥n:</strong> Elige solo UNA respuesta por pregunta</li>
                    <li><strong>Progreso:</strong> Puedes ver tu avance en la barra lateral</li>
                    <li><strong>Revisi√≥n:</strong> Puedes cambiar tus respuestas en cualquier momento antes de finalizar</li>
                    <li><strong>Finalizaci√≥n:</strong> El examen se enviar√° autom√°ticamente cuando se agote el tiempo</li>
                </ul>
            </div>
            
            <div class="student-info">
                <div class="info-item">
                    <div class="info-label">Estudiante:</div>
                    <div id="displayUserName">-</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Intento:</div>
                    <div id="attemptNumber">-</div>
                </div>
            </div>
            
            <button class="btn start-btn" id="startBtn">
                <span class="icon">‚ñ∂Ô∏è</span> Comenzar Examen
            </button>
        </div>
        
        <div class="exam-section" id="examSection" style="display: none;">
            <div class="sidebar">
                <div class="student-info">
                    <h3>Informaci√≥n del Estudiante</h3>
                    <div class="info-item">
                        <div class="info-label">Nombre:</div>
                        <div id="displayName">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Intento:</div>
                        <div id="displayAttempt">-</div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                
                <h3>Navegaci√≥n de Preguntas</h3>
                <div class="section-nav">
                    <div class="section-title">RAZONAMIENTO NUM√âRICO</div>
                    <div class="questions-grid" id="section1Grid">
                        <!-- Preguntas 1-20 -->
                    </div>
                </div>
                <div class="section-nav">
                    <div class="section-title">RAZONAMIENTO VERBAL</div>
                    <div class="questions-grid" id="section2Grid">
                        <!-- Preguntas 21-35 -->
                    </div>
                </div>
                <div class="section-nav">
                    <div class="section-title">RAZONAMIENTO L√ìGICO</div>
                    <div class="questions-grid" id="section3Grid">
                        <!-- Preguntas 36-51 -->
                    </div>
                </div>
                <div class="section-nav">
                    <div class="section-title">ATENCI√ìN Y CONCENTRACI√ìN</div>
                    <div class="questions-grid" id="section4Grid">
                        <!-- Preguntas 52-66 -->
                    </div>
                </div>
            </div>
            
            <div class="content">
                <div class="question-container">
                    <div class="question-header">
                        <div class="question-title" id="questionTitle">Pregunta #1</div>
                        <div class="section-indicator" id="sectionIndicator">RAZONAMIENTO NUM√âRICO</div>
                    </div>
                    
                    <div class="question-text" id="questionText">
                        <!-- El texto de la pregunta se cargar√° aqu√≠ -->
                    </div>
                    
                    <div class="options-container" id="optionsContainer">
                        <!-- Las opciones se cargar√°n aqu√≠ -->
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-prev" id="prevBtn" disabled>
                        <span class="icon">‚óÄÔ∏è</span> Anterior
                    </button>
                    <button class="btn btn-next" id="nextBtn">
                        Siguiente <span class="icon">‚ñ∂Ô∏è</span>
                    </button>
                    <button class="btn btn-submit" id="submitBtn" style="display: none;">
                        <span class="icon">üì§</span> Finalizar Examen
                    </button>
                </div>
            </div>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <div class="results-box">
                <h2 class="results-title">Resultados del Examen</h2>
                <div class="student-info">
                    <div class="info-item">
                        <div class="info-label">Estudiante:</div>
                        <div id="resultName">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Intento:</div>
                        <div id="resultAttempt">-</div>
                    </div>
                </div>
                
                <div class="score-container">
                    <div class="score-box correct-box">
                        <div class="score-value" id="correctCount">0</div>
                        <div class="score-label">Aciertos</div>
                    </div>
                    <div class="score-box incorrect-box">
                        <div class="score-value" id="incorrectCount">0</div>
                        <div class="score-label">Errores</div>
                    </div>
                </div>
                
                <div id="sectionResults">
                    <!-- Resultados por secci√≥n se cargar√°n aqu√≠ -->
                </div>
                
                <div id="scoreMessage">
                    <!-- Mensaje de resultado se cargar√° aqu√≠ -->
                </div>
                
                <button class="btn review-btn" id="reviewBtn">
                    <span class="icon">üîç</span> Revisar Todas las Respuestas
                </button>
                
                <button class="btn restart-btn" id="restartBtn">
                    <span class="icon">üîÑ</span> Volver al Inicio
                </button>
            </div>
        </div>
        
        <div class="review-container" id="reviewContainer">
            <h2 class="review-title">Revisi√≥n de Todas las Respuestas</h2>
            <div id="reviewContent">
                <!-- Contenido de revisi√≥n se cargar√° aqu√≠ -->
            </div>
            <button class="btn restart-btn" id="backToResultsBtn">
                <span class="icon">üîô</span> Volver a Resultados
            </button>
        </div>
        
        <div class="academic-screen" id="academicScreen">
            <h2 class="academic-title">Panel Acad√©mico - Resultados de Estudiantes</h2>
            <div id="academicResults">
                <!-- Los resultados se cargar√°n aqu√≠ -->
            </div>
            <button class="btn restart-btn" id="backToLoginBtn">
                <span class="icon">üîô</span> Volver al Inicio
            </button>
        </div>
    </div>
    
    <script>
        // Lista de usuarios permitidos
        const allowedUsers = [
            "0605780477", "0606198018", "0650267933", "0605648575", "1550154395",
            "0605549375", "0202178612", "0650142060", "2000133799", "3050248388",
            "0605416205", "0606071058", "0503653446", "ACADEMICO", "6699", "PATOLALLA"
        ];

        // Datos del examen con las 66 preguntas
        const examData = [
            // RAZONAMIENTO NUM√âRICO (Preguntas 1-20)
            {
                id: 1,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Roberto es due√±o de un autob√∫s y cada semana obtiene un ingreso de $650. En el mes de enero, tuvo gastos fijos por $1,450. Adem√°s, tiene que realizar un mantenimiento a su veh√≠culo, lo cual representa un 5% del ingreso mensual. Aplicando conceptos de operaciones matem√°ticas simples, establece la ganancia neta que obtiene mensualmente.",
                options: [
                    { id: "a", text: "$1200", correct: false },
                    { id: "b", text: "$1220", correct: false },
                    { id: "c", text: "$1022", correct: false },
                    { id: "d", text: "$1020", correct: true }
                ]
            },
            {
                id: 2,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "En el cuerpo humano habitan aproximadamente 2 000 000 de bacterias por cm¬≤. Si al tomar un ba√±o se pierde el 20 % de estas, y si al usar un jab√≥n antibacteriano se pierde un 20 % adicional, ¬øqu√© porcentaje de bacterias se queda en el cuerpo?",
                options: [
                    { id: "a", text: "36%", correct: false },
                    { id: "b", text: "40%", correct: false },
                    { id: "c", text: "60%", correct: false },
                    { id: "d", text: "64%", correct: true }
                ]
            },
            {
                id: 3,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "El charr√°n del √°rtico es una de las aves que hace la migraci√≥n m√°s larga, ya que recorre 20 160 km. En 12 d√≠as. ¬øCu√°ntos kil√≥metros recorre en los tres primeros d√≠as si lleva siempre la misma velocidad?",
                options: [
                    { id: "a", text: "5000", correct: false },
                    { id: "b", text: "5040", correct: true },
                    { id: "c", text: "5500", correct: false },
                    { id: "d", text: "5200", correct: false }
                ]
            },
            {
                id: 4,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Cada dos meses, en una granja de conejos nacen 245 gazapos. ¬øCu√°ntos gazapos nacer√°n en un a√±o?",
                options: [
                    { id: "a", text: "1650", correct: false },
                    { id: "b", text: "1690", correct: false },
                    { id: "c", text: "1470", correct: true },
                    { id: "d", text: "1060", correct: false }
                ]
            },
            {
                id: 5,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Un ganadero alimenta sus 150 reses durante 27 d√≠as con un cami√≥n de balanceado; pero adquiere 30 reses m√°s. ¬øCu√°ntos d√≠as le durar√° el cami√≥n de balanceado?",
                options: [
                    { id: "a", text: "22,5", correct: true },
                    { id: "b", text: "25", correct: false },
                    { id: "c", text: "27,5", correct: false },
                    { id: "d", text: "30", correct: false }
                ]
            },
            {
                id: 6,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Juli√°n muestra a Paulina dos opciones de muebles para su sala. La colecci√≥n 'ino' con un precio normal de $2 850 y la colecci√≥n 'ino' con un valor de $3 050. Paulina le solicita un descuento y Juli√°n le indica poder ofrecerle un 7,20% y un 13,30% respectivamente a cada colecci√≥n. Aplicando conceptos de operaciones matem√°ticas simples, seleccione la opci√≥n m√°s econ√≥mica.",
                options: [
                    { id: "a", text: "La opci√≥n m√°s econ√≥mica es la colecci√≥n 'ino' con un valor de $2 644,35", correct: false },
                    { id: "b", text: "La opci√≥n m√°s econ√≥mica es la colecci√≥n 'ino' con un valor de $2 644,35.", correct: true },
                    { id: "c", text: "La opci√≥n m√°s econ√≥mica es la colecci√≥n 'ino' con un valor de $2 664,05", correct: false },
                    { id: "d", text: "La opci√≥n m√°s econ√≥mica es la colecci√≥n 'ino' con un valor de $2 664,05.", correct: false }
                ]
            },
            {
                id: 7,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Natalia dispone de 48 horas de estudio para rendir sus ex√°menes de fin de semestre. Seg√∫n su planificaci√≥n destina una fracci√≥n de 3/10 para Biolog√≠a, 1/5 para Qu√≠mica y 1/10 para Fisiolog√≠a. Planifique las acciones matem√°ticas necesarias para calcular el n√∫mero de horas restantes que deber√° incluir en su plan para estudiar Anatom√≠a.",
                options: [
                    { id: "a", text: "Planifica 19,00 horas para estudiar Anatom√≠a", correct: false },
                    { id: "b", text: "Planifica 19,30 horas para estudiar Anatom√≠a.", correct: false },
                    { id: "c", text: "Planifica 19,10 horas para estudiar Anatom√≠a.", correct: false },
                    { id: "d", text: "Planifica 19,20 horas para estudiar Anatom√≠a.", correct: true }
                ]
            },
            {
                id: 8,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "El triatleta Swing est√° entrenando para una competencia que consta de nataci√≥n, ciclismo y carrera. Durante su entrenamiento, ha estado siguiendo un plan en el que nada durante 30 minutos a una velocidad constante de 2 km/h, luego pasa a ciclismo durante 1 hora a una velocidad de 20 km/h y finalmente corre durante 30 minutos a una velocidad de 20 km/h.",
                options: [
                    { id: "a", text: "33 km", correct: false },
                    { id: "b", text: "30 km", correct: false },
                    { id: "c", text: "32 km", correct: false },
                    { id: "d", text: "31 km", correct: true }
                ]
            },
            {
                id: 9,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Thomas est√° planificando su horario para el pr√≥ximo semestre en la universidad. Tiene que tomar tres cursos: matem√°ticas, comunicaci√≥n y ciencias. Los costos por cr√©dito son $150 para matem√°ticas, $120 para comunicaci√≥n y $140 para ciencias. Tienen 4 cr√©ditos, 3 cr√©ditos y 5 cr√©ditos respectivamente. Si el estudiante desea inscribirse en estos tres cursos, calcular el costo de la matr√≠cula.",
                options: [
                    { id: "a", text: "$ 1 666,0", correct: false },
                    { id: "b", text: "$ 1 606,0", correct: false },
                    { id: "c", text: "$ 1 660,0", correct: true },
                    { id: "d", text: "$ 1 600,0", correct: false }
                ]
            },
            {
                id: 10,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "En la tienda de deportes RunPro, Ana compr√≥ 8 camisetas id√©nticas para su equipo y luego decidi√≥ comprar 10 balones de f√∫tbol para su club. Cada camiseta cost√≥ $3,00 y cada bal√≥n de f√∫tbol costo $2, 00. Si Ana pag√≥ todo junto, calcular la cantidad de dinero que gast√≥ en total por las camisetas y los balones de f√∫tbol.",
                options: [
                    { id: "a", text: "$ 41,00", correct: false },
                    { id: "b", text: "$ 43,00", correct: false },
                    { id: "c", text: "$ 42,00", correct: false },
                    { id: "d", text: "$ 44,00", correct: true }
                ]
            },
            {
                id: 11,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "En una ciudad del Ecuador existen menos nacimientos de hombres respecto a los de mujeres, teniendo una proporci√≥n de 1 es a 6. Si seg√∫n el √∫ltimo censo existen 23 752 hombres, calcular la cantidad de mujeres que viven en dicha localidad.",
                options: [
                    { id: "a", text: "142 512 mujeres", correct: true },
                    { id: "b", text: "142 521 mujeres", correct: false },
                    { id: "c", text: "142 152 mujeres", correct: false },
                    { id: "d", text: "142 511 mujeres", correct: false }
                ]
            },
            {
                id: 12,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Ram√≥n revisa una promoci√≥n que anuncia un descuento del 17,5% en art√≠culos seleccionados para ni√±os. Una camisa marca un precio final de $39,79 al aplicarse el descuento. El cliente requiere determinar el precio original de la camisa para regalarla a su hijo.",
                options: [
                    { id: "a", text: "$48,23", correct: true },
                    { id: "b", text: "$48,28", correct: false },
                    { id: "c", text: "$48,38", correct: false },
                    { id: "d", text: "$48,32", correct: false }
                ]
            },
            {
                id: 13,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "El estudiante Robert Klein no logr√≥ alcanzar el puntaje necesario para aprobar en tres asignaturas: matem√°ticas, literatura e idiomas. El estudiante Klein dise√±a un plan de estudio que incluye dedicar el 35% de su tiempo al estudio de matem√°ticas, el 25% al estudio de literatura y el resto a idiomas. Si el estudiante tiene un total de 30 horas para estudiar esta semana, calcular el n√∫mero de horas que deber√≠a dedicar al estudio de idiomas.",
                options: [
                    { id: "a", text: "12 horas", correct: true },
                    { id: "b", text: "8 horas", correct: false },
                    { id: "c", text: "10 horas", correct: false },
                    { id: "d", text: "14 horas", correct: false }
                ]
            },
            {
                id: 14,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Luis compr√≥ un tel√©fono por $1 200 y luego decidi√≥ venderlo despu√©s de aplicar dos descuentos consecutivos. En la primera venta, dio un descuento del 20% sobre el precio de compra y en la segunda venta dio un descuento adicional del 15% sobre el precio despu√©s del primer descuento. Si al final logr√≥ vender el tel√©fono en $816, calcular el precio de venta despu√©s de la primera aplicaci√≥n de descuento.",
                options: [
                    { id: "a", text: "$960", correct: true },
                    { id: "b", text: "$980", correct: false },
                    { id: "c", text: "$970", correct: false },
                    { id: "d", text: "$950", correct: false }
                ]
            },
            {
                id: 15,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Juan invierte $ 1 000 en un emprendimiento tecnol√≥gico, en donde mensualmente su inversi√≥n genera una utilidad de un 10%. Determinar el valor total de dinero invertido que Juan dispondr√° al final del tercer mes.",
                options: [
                    { id: "a", text: "$1 131", correct: false },
                    { id: "b", text: "$1 313", correct: false },
                    { id: "c", text: "$1 113", correct: false },
                    { id: "d", text: "$1 331", correct: true }
                ]
            },
            {
                id: 16,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Frida tuvo un espectacular mes de trabajo donde recibe un porcentaje del 7,19% sobre un total de $36 084,70 por negocios concretados con √©xito. Aplicando conceptos de operaciones matem√°ticas simples, establezca el valor de la comisi√≥n recibida.",
                options: [
                    { id: "a", text: "El valor de la comisi√≥n recibida es de $2 594,94.", correct: true },
                    { id: "b", text: "El valor de la comisi√≥n recibida es de $2 549,49.", correct: false },
                    { id: "c", text: "El valor de la comisi√≥n recibida es de $2 594,49.", correct: false },
                    { id: "d", text: "El valor de la comisi√≥n recibida es de $2 549,94", correct: false }
                ]
            },
            {
                id: 17,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Cinco obreros realizan en 6 d√≠as una pared de 240 m de largo. ¬øCu√°ntos d√≠as tardar√≠an en realizar la misma obra 12 obreros?",
                options: [
                    { id: "a", text: "1 d√≠a", correct: false },
                    { id: "b", text: "2 d√≠as y medio", correct: true },
                    { id: "c", text: "3 d√≠as", correct: false },
                    { id: "d", text: "4 d√≠as y medio", correct: false }
                ]
            },
            {
                id: 18,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Para sacar el agua de una piscina de pl√°stico se necesita realizar 210 extracciones con un cubo de 12 litros de capacidad. Si el cubo es de 20 litros, ¬øcu√°ntas extracciones necesitaremos para sacar toda el agua de la piscina?",
                options: [
                    { id: "a", text: "120", correct: false },
                    { id: "b", text: "200", correct: false },
                    { id: "c", text: "126", correct: true },
                    { id: "d", text: "180", correct: false }
                ]
            },
            {
                id: 19,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Si para repartir el vino de un barril en botellas de 0,75 litros, se necesitan 1040 botellas. ¬øCu√°ntas botellas de 0,65 litros se necesitar√°n?",
                options: [
                    { id: "a", text: "1200", correct: true },
                    { id: "b", text: "1600", correct: false },
                    { id: "c", text: "1000", correct: false },
                    { id: "d", text: "1500", correct: false }
                ]
            },
            {
                id: 20,
                section: "RAZONAMIENTO NUM√âRICO",
                text: "Si con 70 Kg tenemos para alimentar a 25 gallinas durante 30 d√≠as. Si se mueren 15 gallinas ¬øpara cu√°ntos d√≠as habr√° comida suficiente?",
                options: [
                    { id: "a", text: "100", correct: false },
                    { id: "b", text: "75", correct: true },
                    { id: "c", text: "90", correct: false },
                    { id: "d", text: "65", correct: false }
                ]
            },
            // RAZONAMIENTO VERBAL (Preguntas 21-35)
            {
                id: 21,
                section: "RAZONAMIENTO VERBAL",
                text: "Encontrar la palabra que no tiene relaci√≥n con las otras:",
                options: [
                    { id: "a", text: "Caballo", correct: false },
                    { id: "b", text: "Vaca", correct: false },
                    { id: "c", text: "Ballena", correct: false },
                    { id: "d", text: "Cocodrilo", correct: true }
                ]
            },
            {
                id: 22,
                section: "RAZONAMIENTO VERBAL",
                text: "Identifique la oraci√≥n que no pertenece a la categor√≠a:",
                options: [
                    { id: "a", text: "El perro juega con su pelota", correct: false },
                    { id: "b", text: "Mar√≠a compra el peri√≥dico", correct: false },
                    { id: "c", text: "¬øD√≥nde est√° Mar√≠a?", correct: true },
                    { id: "d", text: "Nosotros estamos de viaje", correct: false }
                ]
            },
            {
                id: 23,
                section: "RAZONAMIENTO VERBAL",
                text: "Identifique la palabra que tiene un significado diferente:",
                options: [
                    { id: "a", text: "Deterioro", correct: false },
                    { id: "b", text: "Merma", correct: false },
                    { id: "c", text: "Erosi√≥n", correct: false },
                    { id: "d", text: "Cultivar", correct: true }
                ]
            },
            {
                id: 24,
                section: "RAZONAMIENTO VERBAL",
                text: "Identifique la palabra que no tiene relaci√≥n con las otras:",
                options: [
                    { id: "a", text: "El perro", correct: false },
                    { id: "b", text: "La gata", correct: true },
                    { id: "c", text: "El l√°piz", correct: false },
                    { id: "d", text: "El canto", correct: false }
                ]
            },
            {
                id: 25,
                section: "RAZONAMIENTO VERBAL",
                text: "Identifique la palabra que tiene un significado diferente al grupo:",
                options: [
                    { id: "a", text: "Indolencia", correct: false },
                    { id: "b", text: "Desinter√©s", correct: false },
                    { id: "c", text: "Apat√≠a", correct: false },
                    { id: "d", text: "Envidia", correct: true }
                ]
            },
            {
                id: 26,
                section: "RAZONAMIENTO VERBAL",
                text: "Seleccionar la analog√≠a correcta: ENFRENTAMIENTO: DESACUERDO",
                options: [
                    { id: "a", text: "Felicidad: pelea", correct: false },
                    { id: "b", text: "Fiesta: baile", correct: false },
                    { id: "c", text: "Matrimonio: fracaso", correct: false },
                    { id: "d", text: "Huelga: descontento", correct: true }
                ]
            },
            {
                id: 27,
                section: "RAZONAMIENTO VERBAL",
                text: "Seleccionar la analog√≠a correcta: CONOCIMIENTO: IGNORANCIA",
                options: [
                    { id: "a", text: "Pac√≠fico: tranquilo", correct: false },
                    { id: "b", text: "Diente: boca", correct: false },
                    { id: "c", text: "F√©rtil: est√©ril", correct: true },
                    { id: "d", text: "Ni√±o: feto", correct: false }
                ]
            },
            {
                id: 28,
                section: "RAZONAMIENTO VERBAL",
                text: "Seleccionar la analog√≠a correcta: BOCA: MUDEZ",
                options: [
                    { id: "a", text: "O√≠do: orzuelo", correct: false },
                    { id: "b", text: "Mano: sinusitis", correct: false },
                    { id: "c", text: "Nariz: arete", correct: false },
                    { id: "d", text: "O√≠do: Sordera", correct: true }
                ]
            },
            {
                id: 29,
                section: "RAZONAMIENTO VERBAL",
                text: "Seleccionar la analog√≠a correcta: Toro: Muge",
                options: [
                    { id: "a", text: "Canario: canta", correct: false },
                    { id: "b", text: "Becerro: berrea", correct: true },
                    { id: "c", text: "Gallo: ronronea", correct: false },
                    { id: "d", text: "Ganzo: gru√±e", correct: false }
                ]
            },
            {
                id: 30,
                section: "RAZONAMIENTO VERBAL",
                text: "Seleccionar la analog√≠a correcta: CHOZA: EDIFICIO",
                options: [
                    { id: "a", text: "Capilla: catedral", correct: true },
                    { id: "b", text: "Torre: poste", correct: false },
                    { id: "c", text: "Botella: grifo", correct: false },
                    { id: "d", text: "Celular: computador", correct: false }
                ]
            },
            {
                id: 31,
                section: "RAZONAMIENTO VERBAL",
                text: "Completar las oraciones con los conectores correspondientes. Mostraba un buen nivel acad√©mico...............una escasa humildad, ................ no pudo ganarse ni la admiraci√≥n ............ el aprecio de los dem√°s.",
                options: [
                    { id: "a", text: "y -- y -- ni", correct: false },
                    { id: "b", text: "mas -- por ello -- ni", correct: true },
                    { id: "c", text: "pero -- y -- sino", correct: false },
                    { id: "d", text: "y -- entonces -- o", correct: false }
                ]
            },
            {
                id: 32,
                section: "RAZONAMIENTO VERBAL",
                text: "Completar las oraciones con los conectores correspondientes. ..............las s√∫plicas, no le perdonaron................ su falta era demasiado grave.",
                options: [
                    { id: "a", text: "No obstante -- aunque", correct: false },
                    { id: "b", text: "Siempre que -- porque", correct: false },
                    { id: "c", text: "A pesar de -- pues", correct: true },
                    { id: "d", text: "Si bien -- porque", correct: false }
                ]
            },
            {
                id: 33,
                section: "RAZONAMIENTO VERBAL",
                text: "Completar las oraciones con los conectores correspondientes. El rey dijo que el pueblo no ten√≠a que pensar, .............. ten√≠a que obedecer, .............eran s√∫bitos, ................. √©l pod√≠a hacer con ellos lo que se le antojara.",
                options: [
                    { id: "a", text: "solo -- pero -- por lo tanto", correct: false },
                    { id: "b", text: "s√≥lo -- pues -- y", correct: true },
                    { id: "c", text: "ya que -- por ende -- y", correct: false },
                    { id: "d", text: "Pero -- sin embargo -- entonces", correct: false }
                ]
            },
            {
                id: 34,
                section: "RAZONAMIENTO VERBAL",
                text: "Completar las oraciones con los conectores correspondientes. La teor√≠a es importante, ............... no es suficiente, ................ se necesita recurrir a la pr√°ctica ............... constituye el criterio de verdad.",
                options: [
                    { id: "a", text: "y -- entonces -- por ello", correct: false },
                    { id: "b", text: "entonces -- o -- y", correct: false },
                    { id: "c", text: "en cambio -- pues -- o", correct: false },
                    { id: "d", text: "sin embargo -- por ello -- ya que", correct: true }
                ]
            },
            {
                id: 35,
                section: "RAZONAMIENTO VERBAL",
                text: "Completar las oraciones con los conectores correspondientes. No creo ............. la casualidad ............ en la necesidad ................. mi voluntad es el destino.",
                options: [
                    { id: "a", text: "sin embargo -- y -- ya que", correct: false },
                    { id: "b", text: "por -- o -- debido a que", correct: false },
                    { id: "c", text: "ni -- ni -- porque", correct: false },
                    { id: "d", text: "en -- ni -- pues", correct: true }
                ]
            },
            // RAZONAMIENTO L√ìGICO (Preguntas 36-51)
            {
                id: 36,
                section: "RAZONAMIENTO L√ìGICO",
                text: "En un hospital de la ciudad de Riobamba, un investigador ha notado que el factor de crecimiento de natalidad se ha incrementado en los cuatro primeros meses del a√±o 2023, como se muestra en la siguiente serie: 1, 2, 6, 24. Seleccionar el factor de crecimiento correspondiente al quinto mes.",
                options: [
                    { id: "a", text: "121", correct: false },
                    { id: "b", text: "122", correct: false },
                    { id: "c", text: "120", correct: true },
                    { id: "d", text: "119", correct: false }
                ]
            },
            {
                id: 37,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Un programador requiere recuperar informaci√≥n de su computadora personal, y el software de respaldo le muestra en la pantalla una sucesi√≥n de 4 elementos: ametralladora, alegre, emocionante, encima. Seleccionar el quinto elemento de la sucesi√≥n para que el programador pueda recuperar su informaci√≥n.",
                options: [
                    { id: "a", text: "almanaque", correct: true },
                    { id: "b", text: "atento", correct: false },
                    { id: "c", text: "atropello", correct: false },
                    { id: "d", text: "alcalina", correct: false }
                ]
            },
            {
                id: 38,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Un motor de b√∫squeda en la red muestra una lista con las cuatro ciudades m√°s buscadas por los usuarios en internet. Esta lista est√° regida por la siguiente sucesi√≥n: Esmeraldas, Daule, Cuenca, Babahoyo. Seleccionar la ciudad que aparecer√° en el quinto lugar.",
                options: [
                    { id: "a", text: "Quito", correct: false },
                    { id: "b", text: "Guayaquil", correct: false },
                    { id: "c", text: "Riobamba", correct: false },
                    { id: "d", text: "Ambato", correct: true }
                ]
            },
            {
                id: 39,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Un estudiante de dise√±o gr√°fico pierde el c√≥digo de activaci√≥n de su software de ilustraci√≥n. La plataforma de asistencia al usuario muestra un c√≥digo de n√∫meros y letras que se hallan relacionados entre s√≠ como se muestra a continuaci√≥n: Abc, 123, Bce, 235, Cdg. Seleccionar el sexto elemento que completar√° el c√≥digo de activaci√≥n.",
                options: [
                    { id: "a", text: "357", correct: false },
                    { id: "b", text: "374", correct: false },
                    { id: "c", text: "346", correct: false },
                    { id: "d", text: "347", correct: true }
                ]
            },
            {
                id: 40,
                section: "RAZONAMIENTO L√ìGICO",
                text: "El peri√≥dico local acostumbra a otorgar premios a sus lectores luego de resolver alg√∫n reto de razonamiento. En esta semana se muestra la siguiente sucesi√≥n: 1/18, 1/6, 1/2, 3/2. Seleccionar el quinto t√©rmino que completar√° la sucesi√≥n para ganar el premio.",
                options: [
                    { id: "a", text: "9/4", correct: false },
                    { id: "b", text: "2/9", correct: false },
                    { id: "c", text: "9/2", correct: true },
                    { id: "d", text: "2/3", correct: false }
                ]
            },
            {
                id: 41,
                section: "RAZONAMIENTO L√ìGICO",
                text: "El asesor contable de una empresa procesadora de l√°cteos manifiesta sus porcentajes de utilidad neta correspondientes a los 5 primeros a√±os de funcionamiento, a trav√©s de la siguiente serie: 6, 9, 15, 24, 36. Seleccionar el porcentaje de utilidad neta correspondiente al sexto a√±o.",
                options: [
                    { id: "a", text: "51", correct: true },
                    { id: "b", text: "50", correct: false },
                    { id: "c", text: "49", correct: false },
                    { id: "d", text: "52", correct: false }
                ]
            },
            {
                id: 42,
                section: "RAZONAMIENTO L√ìGICO",
                text: "El investigador de un parque nacional del Ecuador not√≥ que la poblaci√≥n de ciervos se increment√≥ en los √∫ltimos cuatro a√±os obedeciendo a la siguiente sucesi√≥n: 1 290, 1 380, 1 470, 1 560. Seleccione el n√∫mero de ciervos que vivir√°n dentro del parque el a√±o que viene.",
                options: [
                    { id: "a", text: "1 670", correct: false },
                    { id: "b", text: "1 660", correct: false },
                    { id: "c", text: "1 640", correct: false },
                    { id: "d", text: "1 650", correct: true }
                ]
            },
            {
                id: 43,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Una consola de videojuegos sufre una aver√≠a, y su plataforma llamada Network-Games arroja al usuario los 5 primeros elementos de una serie, como se muestra a continuaci√≥n: 7, 7, 14, 42, 168. Seleccionar el sexto elemento correspondiente a la serie, para restablecer la cuenta del usuario.",
                options: [
                    { id: "a", text: "841", correct: false },
                    { id: "b", text: "839", correct: false },
                    { id: "c", text: "838", correct: false },
                    { id: "d", text: "840", correct: true }
                ]
            },
            {
                id: 44,
                section: "RAZONAMIENTO L√ìGICO",
                text: "El√≠as se encuentra recibiendo clases en su unidad educativa, en esta el docente entrega a sus alumnos una serie de n√∫meros y letras agrupadas, donde se debe identificar el grupo de n√∫meros y letra equivocado: 1cd, 7fg, 5ef, 11hi, 9gh, 15jk, 13ij, 19lm, 20kl, 23n√±",
                options: [
                    { id: "a", text: "23n√±", correct: false },
                    { id: "b", text: "15jk", correct: false },
                    { id: "c", text: "20kl", correct: true },
                    { id: "d", text: "1cd", correct: false }
                ]
            },
            {
                id: 45,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Un programador busca restaurar una l√≠nea del c√≥digo fuente de una p√°gina web, lo ocho primeros elementos de la l√≠nea obedecen a la sucesi√≥n: 91, 87, 83, 83, 75, 79, 67, 75. Seleccionar el noveno elemento de que ayudar√° a restaurar la l√≠nea de c√≥digo:",
                options: [
                    { id: "a", text: "63", correct: false },
                    { id: "b", text: "59", correct: true },
                    { id: "c", text: "58", correct: false },
                    { id: "d", text: "71", correct: false }
                ]
            },
            {
                id: 46,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Una cooperativa de ahorro y cr√©dito de la ciudad de Riobamba es v√≠ctima de hackeo. El hacker lanza un desaf√≠o al analista de sistemas, el cual consiste en completar una serie de 5 elementos correspondientes a una contrase√±a. El monitor muestra sus 4 primeros elementos: 1440, 288, 72, 24. Seleccionar el quinto elemento de la contrase√±a, para vencer al hacker y recuperar el control del sistema:",
                options: [
                    { id: "a", text: "11", correct: false },
                    { id: "b", text: "12", correct: true },
                    { id: "c", text: "13", correct: false },
                    { id: "d", text: "10", correct: false }
                ]
            },
            {
                id: 47,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Para acceder a los archivos de una carpeta encriptada es necesario completar una contrase√±a compuesta por seis elementos. Se conoce los primeros cinco elementos de la contrase√±a como se muestra a continuaci√≥n: 1, 9, 25, 49, 81. Seleccionar el sexto elemento que permitir√° completar la contrase√±a.",
                options: [
                    { id: "a", text: "125", correct: false },
                    { id: "b", text: "100", correct: false },
                    { id: "c", text: "81", correct: false },
                    { id: "d", text: "121", correct: true }
                ]
            },
            {
                id: 48,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Francisco est√° en clases de matem√°ticas, el docente le proporciona la siguiente relaci√≥n num√©rica: 5665655656565566656556566655. Manifiesta que tiene que agruparlos en bloques de cuatro, sin cambiar el orden de los n√∫meros. Descubrir qu√© serie de letras resultar√≠a sabiendo que: a = 6565 b = 5566 c = 5665 d = 6556 e = 5656 f = 6655",
                options: [
                    { id: "a", text: "c - d - a - f - b -e - a", correct: false },
                    { id: "b", text: "c - e - d - f - - b - a - d", correct: false },
                    { id: "c", text: "c - d - d - f - a - b - e", correct: false },
                    { id: "d", text: "c- d - e - b - a - e -- f", correct: true }
                ]
            },
            {
                id: 49,
                section: "RAZONAMIENTO L√ìGICO",
                text: "En un banco de Ecuador, un programador necesita recuperar el acceso a la base de datos de sus clientes ya que su sistema ha sufrido un hackeo. El hacker responsable del problema le presenta al programador las 4 primeras palabras que componen la siguiente sucesi√≥n: elefante, estimado, ogro, obediente. Seleccionar la quinta palabra que contin√∫a con la sucesi√≥n, para contrarrestar el hackeo y recuperar la informaci√≥n.",
                options: [
                    { id: "a", text: "eficiente", correct: true },
                    { id: "b", text: "olfato", correct: false },
                    { id: "c", text: "omnipotente", correct: false },
                    { id: "d", text: "enfocado", correct: false }
                ]
            },
            {
                id: 50,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Un cajero autom√°tico presenta una falla en su sistema y el t√©cnico responsable de su reparaci√≥n debe reiniciarlo. Para ello, el t√©cnico enlaza su computadora con la red del cajero y esta arroja los 6 primeros elementos de una serie: 1, 1, 3, 15, 105, 945. Seleccionar el s√©ptimo elemento que completar√° la serie, para reiniciar el sistema del cajero.",
                options: [
                    { id: "a", text: "10 395", correct: true },
                    { id: "b", text: "10 393", correct: false },
                    { id: "c", text: "10 388", correct: false },
                    { id: "d", text: "10 398", correct: false }
                ]
            },
            {
                id: 51,
                section: "RAZONAMIENTO L√ìGICO",
                text: "Un investigador nota que el crecimiento poblacional de conejos obedece a la siguiente sucesi√≥n: 1, 1, 2, 3, 5, 8. Seleccionar la cantidad de conejos que tendr√° el laboratorio en el futuro m√°s cercano.",
                options: [
                    { id: "a", text: "13", correct: true },
                    { id: "b", text: "11", correct: false },
                    { id: "c", text: "12", correct: false },
                    { id: "d", text: "14", correct: false }
                ]
            },
            // ATENCI√ìN Y CONCENTRACI√ìN (Preguntas 52-66)
            {
                id: 52,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Daniel es estudiante de bachillerato en una Unidad Educativa, su docente le asigna una tarea que consiste en; descubrir el n√∫mero que encuentra en la siguiente palabra 'ESTUDIO' y determinar cu√°l es la cantidad sumada de los n√∫meros asignados a cada letra.",
                image: "S1UP52.png",
                options: [
                    { id: "a", text: "355", correct: false },
                    { id: "b", text: "298", correct: false },
                    { id: "c", text: "336", correct: true },
                    { id: "d", text: "327", correct: false }
                ]
            },
            {
                id: 53,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Jos√© Luis compr√≥ dos boletos para un concierto en su localidad, cada boleto tiene una codificaci√≥n que corresponde al asiento entre las respuestas, la codificaci√≥n que NO sea id√©ntica al siguiente par de boletos. CODIGOS DE BOLETOS: P1M15128E32 - POM20139E59",
                options: [
                    { id: "a", text: "P1M15128E32 - POM20139E59", correct: false },
                    { id: "b", text: "P1M15128E32 - POM20139E59", correct: false },
                    { id: "c", text: "P1M15i 28E32 - POM2OI39E59", correct: true },
                    { id: "d", text: "P1M15128E32 - POM20139E59", correct: false }
                ]
            },
            {
                id: 54,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Soledad se encuentra rindiendo una evaluaci√≥n de ingreso a la Polic√≠a Nacional, en esta le entregan dos cuadr√≠culas, en las cuales, o palabra que se forma con las letras de la cuadricula 2 al relacionarlas con el cuadro que contiene un patr√≥n en la cuadr√≠cula 1.",
                image: "S1UP54.png",
                options: [
                    { id: "a", text: "Estudio", correct: false },
                    { id: "b", text: "Estadio", correct: true },
                    { id: "c", text: "Estado", correct: false },
                    { id: "d", text: "Estrado", correct: false }
                ]
            },
            {
                id: 55,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Mar√≠a fue al supermercado, en este se encuentra con un aviso de que todos los productos de primera necesidad que contienen el c√≥digo 0052456456452 tienen un 15% de descuento; para saber cu√°les son estos productos Mar√≠a debe realizar una comparaci√≥n del c√≥digo de descuento con el c√≥digo de cada uno de los productos. Identifique los productos con descuento.",
                image: "S1UP55.png",
                options: [
                    { id: "a", text: "arroz - sal - harina - aceite", correct: true },
                    { id: "b", text: "arroz - sal - az√∫car - aceite", correct: false },
                    { id: "c", text: "arroz - sal - fideo -- az√∫car", correct: false },
                    { id: "d", text: "arroz - sal - harina -- fideo", correct: false }
                ]
            },
            {
                id: 56,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Para encontrar el nombre de un medicamento, la farmac√©utica ingresa en el sistema el c√≥digo de un medicamento. Encuentre, entre las respuestas, la codificaci√≥n id√©ntica a la que se presenta a continuaci√≥n: C063EB86RT3487",
                options: [
                    { id: "a", text: "C0G3EB86RT3487", correct: false },
                    { id: "b", text: "C063EB86RT3487", correct: true },
                    { id: "c", text: "C063EB8GRT3487", correct: false },
                    { id: "d", text: "C063EB8R6T3487", correct: false }
                ]
            },
            {
                id: 57,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Juana necesita comprar una impresora de etiquetas, para ello, debe identificar el nombre y la codificaci√≥n de la impresora. Se requiere que, entre las opciones de respuesta, encuentre el nombre y c√≥digo id√©ntico al que se presenta a continuaci√≥n: GODEX GE3800 XGW3Q",
                options: [
                    { id: "a", text: "G0DEX GE3800 XGW3Q", correct: false },
                    { id: "b", text: "GODEX GE3800 XGW3Q", correct: true },
                    { id: "c", text: "GODEX GE3&00 XGW3Q", correct: false },
                    { id: "d", text: "GODEX GE38O0 XGW3Q", correct: false }
                ]
            },
            {
                id: 58,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Camila se encuentra en una evaluaci√≥n, le piden encontrar el n√∫mero de veces que se repiten los siguientes grupos de letras: ghffi ijlkf fhljk hjtil",
                image: "S1UP58.png",
                options: [
                    { id: "a", text: "ghffi=5 ijlkf=6 fhljk=6 hjtil=5", correct: false },
                    { id: "b", text: "ghffi=5 ijlkf=6 fhljk=6 hjtil=3", correct: false },
                    { id: "c", text: "ghffi=5 ijlkf=4 fhljk=6 hjtil=4", correct: false },
                    { id: "d", text: "ghffi=5 ijlkf=4 fhljk=6 hjtil=5", correct: true }
                ]
            },
            {
                id: 59,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "El docente de la clase de Lengua y Literatura asigna una tarea a sus estudiantes, para lo cual, les entrega una tabla. Los estudiantes deben identificar en qu√© n√∫meros de casillas encajan los siguientes apellidos: RICAURTE, BENAVIDES, JARAMILLO",
                image: "S1UP59.png",
                options: [
                    { id: "a", text: "No. 5, No. 7, No. 3", correct: true },
                    { id: "b", text: "No. 5, No. 1, No. 3", correct: false },
                    { id: "c", text: "No. 5, No. 7, No. 6", correct: false },
                    { id: "d", text: "No. 5, No. 7, No. 7", correct: false }
                ]
            },
            {
                id: 60,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Alexander es un docente de la asignatura de Lengua y Literatura, a su sal√≥n de clase asiste una estudiante para desarrollar la lecto- escritura. El docente le entrega una cuadr√≠cula, en la cual, se requiere identificar cu√°ntas letras (a) y cu√°ntas letras (e) existen.",
                image: "S1UP60.png",
                options: [
                    { id: "a", text: "a = 13; e = 10", correct: false },
                    { id: "b", text: "a = 14; e = 10", correct: true },
                    { id: "c", text: "a = 14; e = 8", correct: false },
                    { id: "d", text: "a = 13; e = 8", correct: false }
                ]
            },
            {
                id: 61,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Juan asigna una tarea a sus estudiantes, para esto les entrega cuatro oraciones, indicando que deben encontrar la oraci√≥n exactamente igual a la oraci√≥n ejemplo. Identifique la oraci√≥n correcta. EJEMPLO: El escritor usa met√°foras muy lindas y realiza descripciones √∫nicas.",
                options: [
                    { id: "a", text: "1. El escritor usa met√°foras muy lindas y realiz√° descripciones √∫nicas.", correct: false },
                    { id: "b", text: "2. El escritor usa metaforas muy lindas y realiza descripciones √∫nicas.", correct: false },
                    { id: "c", text: "3. El escritor usa met√°foras muy lindas y realiza descripciones unicas.", correct: false },
                    { id: "d", text: "4. El escritor usa met√°foras muy lindas y realiza descripciones √∫nicas.", correct: true }
                ]
            },
            {
                id: 62,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Laura se encuentra en clases en su unidad educativa, en esta, su docente le entrega seis grupos de n√∫meros ordenados indistintamente. Identifique los dos grupos que no pertenecen al resto.",
                options: [
                    { id: "a", text: "2, 6", correct: false },
                    { id: "b", text: "2, 5", correct: false },
                    { id: "c", text: "3, 6", correct: true },
                    { id: "d", text: "1, 4", correct: false }
                ]
            },
            {
                id: 63,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Jorge se enlist√≥ al servicio militar, √©l pertenece al primer pelot√≥n que est√° compuesto por 20 conscriptos formados en 4 las de 5, ellos deben formarse en orden de estatura de menor a mayor por lo que requieren identificar en qu√© orden deben formarse. Pedro mide 1.75, Jorge mide 6cm m√°s que Pedro, Esteban mide 1cm m√°s que Pedro, Carlos mide 3cm m√°s que Esteban, Orlando mide 4cm menos que Jorge.",
                options: [
                    { id: "a", text: "Pedro, Esteban, Orlando, Carlos, Jorge", correct: true },
                    { id: "b", text: "Orlando, Pedro, Jorge, Esteban, Carlos", correct: false },
                    { id: "c", text: "Pedro, Orlando, Jorge, Esteban, Carlos", correct: false },
                    { id: "d", text: "Jorge, Esteban, Pedro, Orlando, Carlos", correct: false }
                ]
            },
            {
                id: 64,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Geovany y Samuel est√°n llenando un √°lbum de cromos, cada cromo tiene una letra; Samuel quiere identificar, cu√°l es la letra de los cromos que no se repite.",
                image: "S1UP64.png",
                options: [
                    { id: "a", text: "y", correct: false },
                    { id: "b", text: "q", correct: true },
                    { id: "c", text: "P", correct: false },
                    { id: "d", text: "d", correct: false }
                ]
            },
            {
                id: 65,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Jos√©, docente en una unidad educativa, asigna una tarea a sus estudiantes; para esto entrega una cuadricula con el abecedario, cada letra representada por dos d√≠gitos; pidi√©ndoles identificar a qu√© serie representa a la siguiente palabra: GLICERINA",
                image: "S1UP65.png",
                options: [
                    { id: "a", text: "482260207808327700", correct: false },
                    { id: "b", text: "482232057991127700", correct: false },
                    { id: "c", text: "482232457808327700", correct: true },
                    { id: "d", text: "482232457824307700", correct: false }
                ]
            },
            {
                id: 66,
                section: "ATENCI√ìN Y CONCENTRACI√ìN",
                text: "Esteban se encuentra en una evaluaci√≥n de inform√°tica en su colegio, esta evaluaci√≥n es 50% te√≥rico y 50% pr√°ctico, una vez concluida la parte te√≥rica debe ingresar a una plataforma la cual se encuentra encriptada con una contrase√±a que debe ser hallada entre cuatro grupos de n√∫meros y signos que entreg√≥ el docente indicando que el grupo que contiene un n√∫mero o signo diferente es la contrase√±a. Identifique el n√∫mero de grupo que contiene el signo o n√∫mero diferente:",
                options: [
                    { id: "a", text: "3", correct: false },
                    { id: "b", text: "4", correct: true },
                    { id: "c", text: "1", correct: false },
                    { id: "d", text: "2", correct: false }
                ]
            }
        ];

        // Variables globales
        let currentQuestion = 0;
        let studentAnswers = {};
        let timeLeft = 90 * 60; // 90 minutos en segundos
        let timerInterval;
        let currentUser = "";
        let userAttempts = {};
        let examResults = [];
        let allQuestionsReview = [];

        // Elementos del DOM
        const loginScreen = document.getElementById('loginScreen');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const examSection = document.getElementById('examSection');
        const resultsContainer = document.getElementById('resultsContainer');
        const reviewContainer = document.getElementById('reviewContainer');
        const academicScreen = document.getElementById('academicScreen');
        const usernameInput = document.getElementById('username');
        const loginBtn = document.getElementById('loginBtn');
        const attemptsInfo = document.getElementById('attemptsInfo');
        const displayUserName = document.getElementById('displayUserName');
        const attemptNumber = document.getElementById('attemptNumber');
        const startBtn = document.getElementById('startBtn');
        const displayName = document.getElementById('displayName');
        const displayAttempt = document.getElementById('displayAttempt');
        const timerDisplay = document.querySelector('.timer');
        const section1Grid = document.getElementById('section1Grid');
        const section2Grid = document.getElementById('section2Grid');
        const section3Grid = document.getElementById('section3Grid');
        const section4Grid = document.getElementById('section4Grid');
        const questionTitle = document.getElementById('questionTitle');
        const sectionIndicator = document.getElementById('sectionIndicator');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const progressBar = document.getElementById('progressBar');
        const correctCount = document.getElementById('correctCount');
        const incorrectCount = document.getElementById('incorrectCount');
        const sectionResults = document.getElementById('sectionResults');
        const scoreMessage = document.getElementById('scoreMessage');
        const resultName = document.getElementById('resultName');
        const resultAttempt = document.getElementById('resultAttempt');
        const restartBtn = document.getElementById('restartBtn');
        const reviewBtn = document.getElementById('reviewBtn');
        const backToResultsBtn = document.getElementById('backToResultsBtn');
        const academicResults = document.getElementById('academicResults');
        const backToLoginBtn = document.getElementById('backToLoginBtn');
        const reviewContent = document.getElementById('reviewContent');

        // Inicializar el examen
        loginBtn.addEventListener('click', loginUser);
        startBtn.addEventListener('click', startExam);
        prevBtn.addEventListener('click', showPrevQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', finishExam);
        restartBtn.addEventListener('click', restartExam);
        reviewBtn.addEventListener('click', showReview);
        backToResultsBtn.addEventListener('click', () => {
            reviewContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
        });
        backToLoginBtn.addEventListener('click', () => {
            academicScreen.style.display = 'none';
            loginScreen.style.display = 'block';
        });

        // Cargar intentos desde localStorage
        function loadUserAttempts() {
            const storedAttempts = localStorage.getItem('espochUserAttempts');
            if (storedAttempts) {
                userAttempts = JSON.parse(storedAttempts);
            } else {
                userAttempts = {};
            }
        }

        // Cargar resultados desde localStorage
        function loadExamResults() {
            const storedResults = localStorage.getItem('espochExamResults');
            if (storedResults) {
                examResults = JSON.parse(storedResults);
            } else {
                examResults = [];
            }
        }

        // Guardar intentos en localStorage
        function saveUserAttempts() {
            localStorage.setItem('espochUserAttempts', JSON.stringify(userAttempts));
        }

        // Guardar resultados en localStorage
        function saveExamResults() {
            localStorage.setItem('espochExamResults', JSON.stringify(examResults));
        }

        function loginUser() {
            const username = usernameInput.value.trim().toUpperCase();
            
            if (!allowedUsers.includes(username)) {
                alert("Usuario no autorizado. Contacta al administrador si crees que esto es un error.");
                return;
            }
            
            // Usuario ACADEMICO tiene acceso especial
            if (username === "ACADEMICO") {
                loadExamResults();
                showAcademicResults();
                return;
            }
            
            loadUserAttempts();
            
            if (!userAttempts[username]) {
                userAttempts[username] = 0;
            }
            
            // Intentos ilimitados para todos los usuarios
            userAttempts[username]++;
            saveUserAttempts();
            
            currentUser = username;
            
            displayUserName.textContent = username;
            attemptNumber.textContent = userAttempts[username];
            
            loginScreen.style.display = 'none';
            welcomeScreen.style.display = 'block';
        }

        function showAcademicResults() {
            loginScreen.style.display = 'none';
            academicScreen.style.display = 'block';
            
            let html = '<h3>Resultados de todos los estudiantes</h3>';
            
            if (examResults.length === 0) {
                html += '<p>No hay resultados disponibles.</p>';
            } else {
                html += `
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Estudiante</th>
                            <th>Intento</th>
                            <th>Fecha</th>
                            <th>Razonamiento Num√©rico</th>
                            <th>Razonamiento Verbal</th>
                            <th>Razonamiento L√≥gico</th>
                            <th>Atenci√≥n y Concentraci√≥n</th>
                            <th>Total</th>
                            <th>Porcentaje</th>
                        </tr>
                    </thead>
                    <tbody>
                `;
                
                examResults.forEach(result => {
                    const totalCorrect = result.sectionScores["RAZONAMIENTO NUM√âRICO"].correct +
                                       result.sectionScores["RAZONAMIENTO VERBAL"].correct +
                                       result.sectionScores["RAZONAMIENTO L√ìGICO"].correct +
                                       result.sectionScores["ATENCI√ìN Y CONCENTRACI√ìN"].correct;
                    
                    const percentage = ((totalCorrect / 66) * 100).toFixed(2);
                    
                    html += `
                    <tr>
                        <td>${result.student}</td>
                        <td>${result.attempt}</td>
                        <td>${result.date}</td>
                        <td class="section-score">${result.sectionScores["RAZONAMIENTO NUM√âRICO"].correct}/20</td>
                        <td class="section-score">${result.sectionScores["RAZONAMIENTO VERBAL"].correct}/15</td>
                        <td class="section-score">${result.sectionScores["RAZONAMIENTO L√ìGICO"].correct}/16</td>
                        <td class="section-score">${result.sectionScores["ATENCI√ìN Y CONCENTRACI√ìN"].correct}/15</td>
                        <td class="section-score">${totalCorrect}/66</td>
                        <td class="section-score">${percentage}%</td>
                    </tr>
                    `;
                });
                
                html += '</tbody></table>';
            }
            
            academicResults.innerHTML = html;
        }

        function startExam() {
            displayName.textContent = currentUser;
            displayAttempt.textContent = userAttempts[currentUser];
            resultName.textContent = currentUser;
            resultAttempt.textContent = userAttempts[currentUser];
            
            welcomeScreen.style.display = 'none';
            examSection.style.display = 'flex';
            
            // Inicializar respuestas
            examData.forEach(question => {
                studentAnswers[question.id] = null;
            });
            
            // Crear navegaci√≥n de preguntas
            createQuestionNavigation();
            
            // Iniciar temporizador
            startTimer();
            
            // Mostrar primera pregunta
            showQuestion(currentQuestion);
        }

        function createQuestionNavigation() {
            // Limpiar grids
            section1Grid.innerHTML = '';
            section2Grid.innerHTML = '';
            section3Grid.innerHTML = '';
            section4Grid.innerHTML = '';
            
            examData.forEach((question, index) => {
                const questionNumber = document.createElement('div');
                questionNumber.className = 'question-number';
                questionNumber.textContent = question.id;
                questionNumber.dataset.index = index;
                
                questionNumber.addEventListener('click', () => {
                    currentQuestion = index;
                    showQuestion(currentQuestion);
                });
                
                // Agregar a la secci√≥n correspondiente
                if (question.id <= 20) {
                    section1Grid.appendChild(questionNumber);
                } else if (question.id <= 35) {
                    section2Grid.appendChild(questionNumber);
                } else if (question.id <= 51) {
                    section3Grid.appendChild(questionNumber);
                } else {
                    section4Grid.appendChild(questionNumber);
                }
            });
        }

        function showQuestion(index) {
            // Actualizar estado de navegaci√≥n
            updateQuestionNavigation();
            
            const question = examData[index];
            questionTitle.textContent = `Pregunta #${question.id}`;
            sectionIndicator.textContent = question.section;
            
            // Construir el contenido de la pregunta
            let questionHTML = question.text;
            
            // Agregar ecuaci√≥n si existe
            if (question.equation) {
                questionHTML += `<div class="math-equation">${question.equation}</div>`;
            }
            
            // Agregar segunda parte del texto si existe
            if (question.text2) {
                questionHTML += `<p>${question.text2}</p>`;
            }
            
            // Agregar imagen si existe
            if (question.image) {
                questionHTML += `<img src="${question.image}" alt="Imagen de la pregunta" class="question-image">`;
            }
            
            questionText.innerHTML = questionHTML;
            
            // Limpiar opciones anteriores
            optionsContainer.innerHTML = '';
            
            // Crear opciones
            question.options.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (studentAnswers[question.id] === option.id) {
                    optionElement.classList.add('selected');
                }
                
                // Verificar si el texto de la opci√≥n contiene ecuaciones
                const optionText = option.text;
                const hasMath = optionText.includes('$') || optionText.includes('\\') || optionText.includes('{') || optionText.includes('}');
                
                optionElement.innerHTML = `
                    <input type="radio" name="question-${question.id}" id="option-${option.id}" value="${option.id}" 
                        ${studentAnswers[question.id] === option.id ? 'checked' : ''}>
                    <div class="option-label">${option.id.toUpperCase()}.</div>
                    <div class="option-text">${hasMath ? `\\(${optionText}\\)` : optionText}</div>
                `;
                
                optionElement.addEventListener('click', () => {
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    optionElement.classList.add('selected');
                    studentAnswers[question.id] = option.id;
                    updateQuestionNavigation();
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Reprocesar MathJax para renderizar ecuaciones
            if (window.MathJax) {
                MathJax.typesetPromise([questionText, optionsContainer]).catch((err) => {
                    console.log('Error al procesar MathJax:', err);
                    // Reintentar despu√©s de un breve retraso
                    setTimeout(() => {
                        if (window.MathJax) {
                            MathJax.typesetPromise([questionText, optionsContainer]);
                        }
                    }, 100);
                });
            }
            
            // Actualizar botones de navegaci√≥n
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === examData.length - 1;
            
            // Mostrar bot√≥n de env√≠o en la √∫ltima pregunta
            submitBtn.style.display = index === examData.length - 1 ? 'block' : 'none';
            nextBtn.style.display = index === examData.length - 1 ? 'none' : 'block';
            
            // Actualizar barra de progreso
            updateProgressBar();
        }

        function updateQuestionNavigation() {
            // Actualizar n√∫meros de preguntas
            document.querySelectorAll('.question-number').forEach((number, index) => {
                number.classList.remove('active', 'answered');
                if (index === currentQuestion) {
                    number.classList.add('active');
                }
                const questionId = examData[index].id;
                if (studentAnswers[questionId] !== null) {
                    number.classList.add('answered');
                }
            });
        }

        function showPrevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function showNextQuestion() {
            if (currentQuestion < examData.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishExam();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Cambiar color cuando quedan menos de 5 minutos
            if (timeLeft < 300) {
                timerDisplay.style.color = '#dc3545';
            }
        }

        function updateProgressBar() {
            const answeredCount = Object.values(studentAnswers).filter(answer => answer !== null).length;
            const progress = (answeredCount / examData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function finishExam() {
            clearInterval(timerInterval);
            
            // Calcular resultados
            let correct = 0;
            let incorrect = 0;
            allQuestionsReview = [];
            let sectionScores = {
                "RAZONAMIENTO NUM√âRICO": { correct: 0, total: 20 },
                "RAZONAMIENTO VERBAL": { correct: 0, total: 15 },
                "RAZONAMIENTO L√ìGICO": { correct: 0, total: 16 },
                "ATENCI√ìN Y CONCENTRACI√ìN": { correct: 0, total: 15 }
            };
            
            examData.forEach(question => {
                const studentAnswer = studentAnswers[question.id];
                let isCorrect = false;
                let correctAnswer = null;
                
                // Encontrar la respuesta correcta
                const correctOption = question.options.find(opt => opt.correct);
                if (correctOption) {
                    correctAnswer = correctOption.id;
                }
                
                if (studentAnswer !== null) {
                    const selectedOption = question.options.find(opt => opt.id === studentAnswer);
                    if (selectedOption && selectedOption.correct) {
                        correct++;
                        sectionScores[question.section].correct++;
                        isCorrect = true;
                    } else {
                        incorrect++;
                    }
                } else {
                    incorrect++;
                }
                
                // Guardar informaci√≥n para revisi√≥n de todas las preguntas
                allQuestionsReview.push({
                    question: question,
                    studentAnswer: studentAnswer,
                    correctAnswer: correctAnswer,
                    isCorrect: isCorrect
                });
            });
            
            // Guardar resultados
            loadExamResults();
            examResults.push({
                student: currentUser,
                attempt: userAttempts[currentUser],
                date: new Date().toLocaleString(),
                score: correct,
                sectionScores: sectionScores
            });
            saveExamResults();
            
            // Mostrar resultados
            correctCount.textContent = correct;
            incorrectCount.textContent = incorrect;
            
            // Mostrar resultados por secci√≥n
            let sectionHTML = '';
            for (const section in sectionScores) {
                const score = sectionScores[section];
                const percentage = ((score.correct / score.total) * 100).toFixed(1);
                sectionHTML += `
                <div class="section-results">
                    <h3>${section}</h3>
                    <div class="section-stats">
                        <div class="stat-box">
                            <div class="stat-value">${score.correct}/${score.total}</div>
                            <div class="stat-label">Aciertos</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">${percentage}%</div>
                            <div class="stat-label">Porcentaje</div>
                        </div>
                    </div>
                </div>
                `;
            }
            sectionResults.innerHTML = sectionHTML;
            
            // Mostrar mensaje seg√∫n el puntaje
            const percentage = (correct / examData.length) * 100;
            let message = "";
            
            if (percentage >= 90) {
                message = "¬°Excelente trabajo! Demostraste un dominio excepcional de los temas evaluados.";
            } else if (percentage >= 70) {
                message = "¬°Buen trabajo! Tienes un buen conocimiento de los temas, pero hay espacio para mejorar.";
            } else if (percentage >= 50) {
                message = "Resultado aceptable. Te recomendamos revisar los temas donde tuviste dificultades.";
            } else {
                message = "Necesitas reforzar tus conocimientos. Te sugerimos estudiar m√°s los temas evaluados.";
            }
            
            scoreMessage.innerHTML = `
                <h3>Tu puntuaci√≥n total: ${correct}/${examData.length} (${Math.round(percentage)}%)</h3>
                <p>${message}</p>
            `;
            
            examSection.style.display = 'none';
            resultsContainer.style.display = 'block';
        }

        function showReview() {
            resultsContainer.style.display = 'none';
            reviewContainer.style.display = 'block';
            
            let html = '';
            
            allQuestionsReview.forEach((item, index) => {
                const question = item.question;
                const studentAnswer = item.studentAnswer;
                const correctAnswer = item.correctAnswer;
                const isCorrect = item.isCorrect;
                
                html += `
                <div class="review-item ${isCorrect ? 'correct' : ''}">
                    <div class="review-question">
                        <strong>Pregunta ${question.id} (${question.section}):</strong> ${question.text}
                    </div>
                    <div class="review-answer">
                        <div class="review-label">Tu respuesta:</div>
                        <div class="review-value ${studentAnswer === correctAnswer ? 'correct' : 'incorrect'}">
                            ${studentAnswer ? studentAnswer.toUpperCase() + '. ' + question.options.find(opt => opt.id === studentAnswer)?.text : 'No respondida'}
                        </div>
                    </div>
                    <div class="review-answer">
                        <div class="review-label">Respuesta correcta:</div>
                        <div class="review-value correct">
                            ${correctAnswer ? correctAnswer.toUpperCase() + '. ' + question.options.find(opt => opt.id === correctAnswer)?.text : 'No disponible'}
                        </div>
                    </div>
                    <div class="review-answer">
                        <div class="review-label">Resultado:</div>
                        <div class="review-value ${isCorrect ? 'correct' : 'incorrect'}">
                            ${isCorrect ? '‚úì Correcta' : '‚úó Incorrecta'}
                        </div>
                    </div>
                </div>
                `;
            });
            
            reviewContent.innerHTML = html;
        }

        function restartExam() {
            // Reiniciar variables
            currentQuestion = 0;
            studentAnswers = {};
            timeLeft = 90 * 60;
            allQuestionsReview = [];
            
            // Restablecer la interfaz
            resultsContainer.style.display = 'none';
            reviewContainer.style.display = 'none';
            loginScreen.style.display = 'block';
            usernameInput.value = '';
            timerDisplay.style.color = '#ffcc00';
        }

        // Inicializar datos al cargar la p√°gina
        loadUserAttempts();
        loadExamResults();
    </script>
</body>
</html>